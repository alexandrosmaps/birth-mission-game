<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MissiÃ³: /El Part</title>
    <link
      rel="icon"
      type="image/svg+xml"
      href="https://api.iconify.design/ic/baseline-child-care.svg"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <h1>MissiÃ³: /El PART</h1>
        <p>
          La teva parella comenÃ§a a notar que aixÃ² ja arriba ğŸ‘¼ğŸ¼. DesprÃ©s de 9
          mesos llegint llibres, mirant vÃ­deos, escoltant podcasts...ha arribat
          l'hora de la veritat ğŸ¤˜ğŸ¼. SerÃ s capaÃ§ d'aconseguir presenciar
          l'arribada al mÃ³n de la teva descendÃ¨cia? RecordarÃ s tot el que has
          aprÃ¨s i ho podrÃ s aplicar?
        </p>
      </div>

      <!-- Loading State -->
      <div id="loading" class="loading">Carregant adventura...</div>

      <!-- Error State -->
      <div id="error" class="error-box hidden">
        <h2>Error</h2>
        <p id="error-message"></p>
        <button class="btn-primary" onclick="restartGame()">
          <svg
            class="icon"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
            ></path>
          </svg>
          Try Again
        </button>
      </div>

      <!-- Story Card -->
      <div id="card" class="card">
        <div class="card-header">
          <h2 id="card-title" class="card-title"></h2>
        </div>
        <div class="card-content">
          <!-- Game Over GIF (shown when card has gif_url) -->
          <img
            id="gameover-gif"
            class="gameover-gif hidden"
            src=""
            alt="Game Over"
          />

          <p id="card-text" class="card-text"></p>
          <div id="choices-container">
            <div class="choices-label">I ara quÃ¨ fas?</div>
            <div id="choices" class="choices"></div>
          </div>
        </div>
      </div>

      <!-- End Screen -->
      <div id="end-screen" class="end-screen">
        <h2 id="end-title" class="end-title"></h2>
        <p id="end-message" class="end-message"></p>
        <button class="btn-primary" onclick="restartGame()">
          <svg
            class="icon"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
            ></path>
          </svg>
          Tornar a jugar
        </button>
      </div>

      <!-- Progress Bar (shown above restart button) -->
      <div id="progress-bar" class="progress-bar-container hidden">
        <div class="progress-bar-wrapper">
          <div
            id="progress-bar-fill"
            class="progress-bar-fill"
            style="width: 0%"
          >
            <span id="progress-bar-text" class="progress-bar-text">0%</span>
          </div>
        </div>
      </div>

      <!-- Restart Footer (shown during gameplay) -->
      <div id="restart-footer" class="restart-footer hidden">
        <button class="btn-restart-small" onclick="restartGame()">
          <svg
            class="icon"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
            ></path>
          </svg>
          Restart
        </button>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>
